\hypertarget{serial_8h}{}\doxysection{include/pros/serial.h File Reference}
\label{serial_8h}\index{include/pros/serial.h@{include/pros/serial.h}}
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
Include dependency graph for serial.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_a7003d387555b2709a79b753f6a595fd5}{serial\+\_\+enable}} (uint8\+\_\+t port)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_a707d648b58b1132bf09e5b0a7a2f4eaf}{serial\+\_\+set\+\_\+baudrate}} (uint8\+\_\+t port, int32\+\_\+t baudrate)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_ade596fb148f39a8834bce07d61ac8bb8}{serial\+\_\+flush}} (uint8\+\_\+t port)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_a3f64d958702a6966caae29407f386fa1}{serial\+\_\+get\+\_\+read\+\_\+avail}} (uint8\+\_\+t port)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_ab6ae2634ec1ca6bc718f2698e5226d91}{serial\+\_\+get\+\_\+write\+\_\+free}} (uint8\+\_\+t port)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_ab09668cac5100defe31f0a6f96288f62}{serial\+\_\+peek\+\_\+byte}} (uint8\+\_\+t port)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_ad1042af5284196938b0c7fc5089b6760}{serial\+\_\+read\+\_\+byte}} (uint8\+\_\+t port)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_a18a0a6fc1a46ef1543b4bc9258cf7d2e}{serial\+\_\+read}} (uint8\+\_\+t port, uint8\+\_\+t $\ast$buffer, int32\+\_\+t length)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_a4236649b58a9c30acc0e6e2eb90e0909}{serial\+\_\+write\+\_\+byte}} (uint8\+\_\+t port, uint8\+\_\+t buffer)
\item 
int32\+\_\+t \mbox{\hyperlink{serial_8h_aa44da0430efe50d5a5578aa28287f32b}{serial\+\_\+write}} (uint8\+\_\+t port, uint8\+\_\+t $\ast$buffer, int32\+\_\+t length)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Contains prototypes for the V5 Generic Serial related functions.

Visit \href{https://pros.cs.purdue.edu/v5/tutorials/topical/serial.html}{\texttt{ https\+://pros.\+cs.\+purdue.\+edu/v5/tutorials/topical/serial.\+html}} to learn more.

This file should not be modified by users, since it gets replaced whenever a kernel upgrade occurs.

\begin{DoxyCopyright}{Copyright}
Copyright (c) 2017-\/2023, Purdue University ACM SIGBots.
\end{DoxyCopyright}
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.\+0. If a copy of the MPL was not distributed with this file, You can obtain one at \href{http://mozilla.org/MPL/2.0/}{\texttt{ http\+://mozilla.\+org/\+MPL/2.\+0/}}. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{serial_8h_a7003d387555b2709a79b753f6a595fd5}\label{serial_8h_a7003d387555b2709a79b753f6a595fd5}} 
\index{serial.h@{serial.h}!serial\_enable@{serial\_enable}}
\index{serial\_enable@{serial\_enable}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_enable()}{serial\_enable()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+enable (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port }\end{DoxyParamCaption})}

Serial communication functions ~\newline
 These functions allow programmers to communicate using UART over RS485 ~\newline
 Enables generic serial on the given port.

\begin{DoxyNote}{Note}
This function must be called before any of the generic serial functions will work.
\end{DoxyNote}
This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the operation was successful or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_ade596fb148f39a8834bce07d61ac8bb8}\label{serial_8h_ade596fb148f39a8834bce07d61ac8bb8}} 
\index{serial.h@{serial.h}!serial\_flush@{serial\_flush}}
\index{serial\_flush@{serial\_flush}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_flush()}{serial\_flush()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+flush (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port }\end{DoxyParamCaption})}

Clears the internal input and output FIFO buffers.

This can be useful to reset state and remove old, potentially unneeded data from the input FIFO buffer or to cancel sending any data in the output FIFO buffer.

\begin{DoxyNote}{Note}
This function does not cause the data in the output buffer to be written, it simply clears the internal buffers. Unlike stdout, generic serial does not use buffered IO (the FIFO buffers are written as soon as possible).
\end{DoxyNote}
This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the operation was successful or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_a3f64d958702a6966caae29407f386fa1}\label{serial_8h_a3f64d958702a6966caae29407f386fa1}} 
\index{serial.h@{serial.h}!serial\_get\_read\_avail@{serial\_get\_read\_avail}}
\index{serial\_get\_read\_avail@{serial\_get\_read\_avail}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_get\_read\_avail()}{serial\_get\_read\_avail()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+get\+\_\+read\+\_\+avail (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port }\end{DoxyParamCaption})}

Returns the number of bytes available to be read in the the port\textquotesingle{}s FIFO input buffer.

\begin{DoxyNote}{Note}
This function does not actually read any bytes, is simply returns the number of bytes available to be read.
\end{DoxyNote}
This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes avaliable to be read or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_ab6ae2634ec1ca6bc718f2698e5226d91}\label{serial_8h_ab6ae2634ec1ca6bc718f2698e5226d91}} 
\index{serial.h@{serial.h}!serial\_get\_write\_free@{serial\_get\_write\_free}}
\index{serial\_get\_write\_free@{serial\_get\_write\_free}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_get\_write\_free()}{serial\_get\_write\_free()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+get\+\_\+write\+\_\+free (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port }\end{DoxyParamCaption})}

Returns the number of bytes free in the port\textquotesingle{}s FIFO output buffer.

\begin{DoxyNote}{Note}
This function does not actually write any bytes, is simply returns the number of bytes free in the port\textquotesingle{}s buffer.
\end{DoxyNote}
This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes free or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_ab09668cac5100defe31f0a6f96288f62}\label{serial_8h_ab09668cac5100defe31f0a6f96288f62}} 
\index{serial.h@{serial.h}!serial\_peek\_byte@{serial\_peek\_byte}}
\index{serial\_peek\_byte@{serial\_peek\_byte}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_peek\_byte()}{serial\_peek\_byte()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+peek\+\_\+byte (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port }\end{DoxyParamCaption})}

Reads the next byte avaliable in the port\textquotesingle{}s input buffer without removing it.

This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The next byte avaliable to be read, -\/1 if none are available, or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_a18a0a6fc1a46ef1543b4bc9258cf7d2e}\label{serial_8h_a18a0a6fc1a46ef1543b4bc9258cf7d2e}} 
\index{serial.h@{serial.h}!serial\_read@{serial\_read}}
\index{serial\_read@{serial\_read}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_read()}{serial\_read()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+read (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port,  }\item[{uint8\+\_\+t $\ast$}]{buffer,  }\item[{int32\+\_\+t}]{length }\end{DoxyParamCaption})}

Reads up to the next length bytes from the port\textquotesingle{}s input buffer and places them in the user supplied buffer.

\begin{DoxyNote}{Note}
This function will only return bytes that are currently avaliable to be read and will not block waiting for any to arrive.
\end{DoxyNote}
This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21 \\
\hline
{\em buffer} & The location to place the data read \\
\hline
{\em length} & The maximum number of bytes to read\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes read or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_ad1042af5284196938b0c7fc5089b6760}\label{serial_8h_ad1042af5284196938b0c7fc5089b6760}} 
\index{serial.h@{serial.h}!serial\_read\_byte@{serial\_read\_byte}}
\index{serial\_read\_byte@{serial\_read\_byte}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_read\_byte()}{serial\_read\_byte()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+read\+\_\+byte (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port }\end{DoxyParamCaption})}

Reads the next byte avaliable in the port\textquotesingle{}s input buffer.

This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The next byte avaliable to be read, -\/1 if none are available, or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_a707d648b58b1132bf09e5b0a7a2f4eaf}\label{serial_8h_a707d648b58b1132bf09e5b0a7a2f4eaf}} 
\index{serial.h@{serial.h}!serial\_set\_baudrate@{serial\_set\_baudrate}}
\index{serial\_set\_baudrate@{serial\_set\_baudrate}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_set\_baudrate()}{serial\_set\_baudrate()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+set\+\_\+baudrate (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port,  }\item[{int32\+\_\+t}]{baudrate }\end{DoxyParamCaption})}

Sets the baudrate for the serial port to operate at.

This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21 \\
\hline
{\em baudrate} & The baudrate to operate at\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the operation was successful or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_aa44da0430efe50d5a5578aa28287f32b}\label{serial_8h_aa44da0430efe50d5a5578aa28287f32b}} 
\index{serial.h@{serial.h}!serial\_write@{serial\_write}}
\index{serial\_write@{serial\_write}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_write()}{serial\_write()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+write (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port,  }\item[{uint8\+\_\+t $\ast$}]{buffer,  }\item[{int32\+\_\+t}]{length }\end{DoxyParamCaption})}

Writes up to length bytes from the user supplied buffer to the port\textquotesingle{}s output buffer.

\begin{DoxyNote}{Note}
Data in the port\textquotesingle{}s output buffer is written to the serial port as soon as possible on a FIFO basis and can not be done manually by the user.
\end{DoxyNote}
This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port. EIO -\/ Serious internal write error.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21 \\
\hline
{\em buffer} & The data to write \\
\hline
{\em length} & The maximum number of bytes to write\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes written or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
\mbox{\Hypertarget{serial_8h_a4236649b58a9c30acc0e6e2eb90e0909}\label{serial_8h_a4236649b58a9c30acc0e6e2eb90e0909}} 
\index{serial.h@{serial.h}!serial\_write\_byte@{serial\_write\_byte}}
\index{serial\_write\_byte@{serial\_write\_byte}!serial.h@{serial.h}}
\doxysubsubsection{\texorpdfstring{serial\_write\_byte()}{serial\_write\_byte()}}
{\footnotesize\ttfamily int32\+\_\+t serial\+\_\+write\+\_\+byte (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port,  }\item[{uint8\+\_\+t}]{buffer }\end{DoxyParamCaption})}

Write the given byte to the port\textquotesingle{}s output buffer.

\begin{DoxyNote}{Note}
Data in the port\textquotesingle{}s output buffer is written to the serial port as soon as possible on a FIFO basis and can not be done manually by the user.
\end{DoxyNote}
This function uses the following values of errno when an error state is reached\+: EINVAL -\/ The given value is not within the range of V5 ports (1-\/21). EACCES -\/ Another resource is currently trying to access the port. EIO -\/ Serious internal write error.


\begin{DoxyParams}{Parameters}
{\em port} & The V5 port number from 1-\/21 \\
\hline
{\em buffer} & The byte to write\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes written or PROS\+\_\+\+ERR if the operation failed, setting errno. 
\end{DoxyReturn}
